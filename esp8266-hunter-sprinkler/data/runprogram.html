<head>
    <!-- <script type="text/javascript">
        function submitprogramform(selected) {
            document.getElementById("programControl").action = "api/start/program/" + selected;
            return true;
        }
    </script> -->
    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/base-min.css">
    <link rel="stylesheet" href="https://unpkg.com/purecss@2.1.0/build/pure-min.css" crossorigin="anonymous">
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
</head>

<body>
    <div class="pure-menu pure-menu-horizontal" style="height:50px">
        <ul class="pure-menu-list">
            <li class="pure-menu-item">
                <a href="/update" class="pure-menu-link">Update</a>
            </li>
            <li class="pure-menu-item">
                <a href="/program" class="pure-menu-link">Run Program</a>
            </li>
            <li class="pure-menu-item">
                <a href="/zone" class="pure-menu-link">Run Single Zone</a>
            </li>
        </ul>
    </div>
    <form id='program-control' class='pure-form-stacked'>
        <fieldset>
            <legend>Run Program</legend><select id='program-select'>
                <option value='1'>A</option>
                <option value='2'>B</option>
                <option value='3'>C</option>
            </select><button type="submit" class='pure-button pure-button-primary'>Submit</button>
        </fieldset>
    </form>
    <div id="result"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            $('#program-control').submit(function(event) {
                event.preventDefault();
                console.log("api/start/program/" + $('#program-select option:selected').val());
                $.get("api/start/program/" + $('#program-select option:selected').val(),
                    function(data, textStatus, jqXHR) {
                        console.log(data);
                        $('#result').text(data.status);
                    },
                    "json"
                );

            });
        });
    </script>
</body>